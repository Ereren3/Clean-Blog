<%- include("partials/_header") %>

<body>

  <!-- Navigation -->
  <%- include("partials/_navigator") %>

  <!-- Page Header -->
  <header class="masthead" style="background-image: url('/img/contact-bg.jpg')">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="page-heading">
            <h1>Edit post</h1>

          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <form action="/posts/edit/<%= post._id %>?_method=PUT" method="POST">
          <div class="control-group">
            <div class="form-group floating-label-form-group controls">
              <label>Title</label>
              <h5>Title</h5>
              <textarea rows="1" class="form-control" name="title" placeholder="Title" id="title" disabled="true" required data-validation-required-message="Please enter a title."><%= post.title %></textarea>
              <p class="help-block text-danger"></p>
            </div>
          </div>
          <div class="control-group">
            <div class="form-group floating-label-form-group controls">
              <label>Post Detail</label>
              <h5>Message</h5>
              <textarea rows="5" class="form-control" name="message" placeholder="Message" id="message" disabled="true" required data-validation-required-message="Please enter a message."><%= post.message %></textarea>
              <p class="help-block text-danger"></p>
            </div>
          </div>
          <div class="control-group">
            <div class="form-group floating-label-form-group controls">
              <label>Author</label>
              <h5>Author</h5>
              <textarea rows="1" class="form-control" name="author" placeholder="Author" id="author" disabled="true" required data-validation-required-message="Please enter a author."><%= post.author %></textarea>
              <p class="help-block text-danger"></p>
            </div>
          </div>
          <br>
          <div id="success"></div>
          <button type="submit" class="btn btn-primary" id="sendMessageButton">Send</button>
          <button type="button" class="btn btn-primary" id="editButton" style="background-color: tomato;" onclick="onClick()">Edit</button>
        </form>
      </div>
    </div>
  </div>

  <hr>

  <!-- Footer -->
  <%- include("partials/_footer") %>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Contact Form JavaScript -->
  <script src="js/jqBootstrapValidation.js"></script>
  <script src="js/contact_me.js"></script>

  <!-- Custom scripts for this template -->
  <script src="js/clean-blog.min.js"></script>
  
  <!--Edit button script -->
  <script>
  function onClick(){

    //const but = document.getElementById("editButton");
    //but.style.backgroundColor = "blue";
    
    const elements = document.getElementsByClassName("form-control");

    //elements[0].disabled = false;

    Array.from(elements).forEach(element => {
      element.disabled = false;
    })
  
    /*
    elements.forEach((element) =>{
      element.disabled = false;
    })*/
  }
  </script>

</body>

</html>
